#!/bin/bash

# Redisからデータを取得してBase64デコード
compressed_data='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'
echo $compressed_data | base64 --decode > compressed_data.gz

# Gzip解凍
gzip -d -c compressed_data.gz > decompressed_data.txt

# エスケープされたJSON文字列を読み込み、正しいJSON形式に変換して保存
escaped_json=$(cat decompressed_data.txt)
echo $escaped_json | jq -r . > decompressed_data.json

# 正しいJSON形式のデータを表示
cat decompressed_data.json

# 一時ファイルを削除
rm compressed_data.gz decompressed_data.txt